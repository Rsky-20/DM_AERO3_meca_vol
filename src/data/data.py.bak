#!/bin/python3
# -*- coding: utf8 -*- 
"""
@Author : Pierre VAUDRY 
Release date: 20/11/2022

[Description]

    This project aim to 


[Class]

    MainApp() -- main class to make first page and instance all functions


[Other variable]:

    Many other constants and variable may be defined;
    these may be used in calls

"""
#############################################
# --------- Import module section --------- #
############################################
from math import sqrt, pow, cos, sin 


#############################################
# ---------- Data module section ---------- #
#############################################

g = 9.81 # Constante de gravitÃ©
mass_max = 3920 # Masse maximale de lâ€™avion avec les rÃ©servoirs pleins (kg)
S = 19.5 # Surface alaire (mÂ²)
alpha = float() # Angle dâ€™incidence ğ›¼ est en degrÃ©s
Cx0 = 0.025
k = 0.05 


def Cz(alpha:float):
    """Fonction qui retourne le coefficient de portance avec un angle donnÃ©
    Cz = Cz0 + c * alpha
    Cz = 0.02 + 0.075 * alpha
    Cz0 => le coefficient de portance Ã  incidence nulle
    c => le coefficient de ğ‘ğ‘Ÿğ‘œğ‘ğ‘œğ‘Ÿğ‘¡ğ‘–ğ‘œğ‘›ğ‘›ğ‘ğ‘™ğ‘–ğ‘¡Ã© 

    Args:
        alpha (float): angle 

    Returns:
        float: retourne le coefficient de portance pour un angle donnÃ©
    """    
    return 0.02 + 0.075 * alpha #  Coefficient de portance en fonction de lâ€™incidence

def Cx(Cz:float):
    """Fonction de la polaire de l'avion
    Cx = Cx0 + K * Cz**2
    Cx = 0.025 + 0.05 * Cz**2
    Cx0 => le coefficient de trainÃ©e Ã  incidence nulle
    k => le coefficient de trainÃ©e induite

    Args:
        Cz (float): coefficient de portance

    Returns:
        float: la polaire de l'avion
    """    
    return 0.025 + 0.05 * Cz**2 #  Polaire de lâ€™avion

Cz_max = 1.52 # Coefficient de portance maximale
alpha_max = 20 # Configuration lisse pour Cz_max
Cz_max_TO = 1.93 # Coefficient de portance maximale en configuration T/O
Cz_max_LAND = 2.2 # Coefficient de portance maximale en configuration LAND
delta_e = float()

def Cm(alpha:float, delta_e:float):
    """Fontion permettant de calculer le coefficient de moment de tangage en fonction de alpha 
    et du braquage de la gouverne de profondeur

    Args:
        alpha (float): angle de l'avion
        delta_e (float): angle de la gouverne

    Returns:
        float: retourne le coefficient de moment de tangage
    """    
    return 0.24 - 0.18 * alpha + 0.28 * delta_e # 

F1 = F2 =  6.49 * 10e3 # Lâ€™avion est propulsÃ© par deux turborÃ©acteurs. Chacun dâ€™eux peut fournir une poussÃ©e maximale au niveau de la mer
F0 = 12980
delta_t = float()
rho = float()
def F(delta_t:float, rho:float):
    """Fonction de la poussÃ©e

    Args:
        delta_t (float): position de la manette de gaz de 0 Ã  1 (0% Ã  100%)
        rho (float): masse volumique

    Returns:
        float: retourne la poussÃ©e
    """    
    return delta_t * pow((rho / 1.225), 0.6) * F0 # La poussÃ©e obtenue varie en fonction de lâ€™altitude et de la position des manettes
# ğ›¿ğ‘¡ est la position des manettes de gaz et ğœŒ la masse volumique de lâ€™air en ğ‘˜ğ‘”/ğ‘š3 Ã  lâ€™altitude donnÃ©e

f_cap_c = 1110 # fuel_capacity_cruise_flight | La capacitÃ© en carburant destinÃ© au vol en croisiÃ¨re (kg)
spec_comsum = 0.024 # specific consumption | la consommation spÃ©cifiqueau niveau de la mer (ğ‘˜ğ‘”/(ğ‘. â„))

# [1] DECOLLAGE
z_airport = 1900 #ft 
r = 0.1 # La piste est contaminÃ©e par de la neige et le coefficient de frottements
v_lof_kt = 90 #kt
v_lof_ms = 46 #m/s
#f = Cz / Cx # Finesse

# [2] MONTEE
FL350 = 35000 # FL350 
v = 88 #m/s
v_z = 3000 #ft/min
def Cz_2(m:float, g:float, gamma:float, rho:float, S:float, V:float):
    """2nd Fonction permettant de calculer le coefficient de portance

    Args:
        m (float): masse max de l'avion
        g (float): constante de gravitÃ©
        gamma (float): angle d'incidence
        rho (float): masse volumique
        S (float): surface allaire
        V (float): vitesse

    Returns:
        float: retourne le coefficient de portance
    """    
    return (2 * m *g * cos(gamma))/(rho * S * V)

z_panne = 3000 #ft
V_enr_kt = 118 #kt
V_enr_ms = 65 #m/s